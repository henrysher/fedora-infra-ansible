# Config for {{ glusterservername }}
# Generated by ansible

volume posix
	type storage/posix
    option directory {{ datadir }}/{{ glusterservername }}
end-volume

volume locks
	type features/locks
	option mandatory-locks on
	subvolumes posix
end-volume

volume iothreads
	type performance/io-threads
	option thread-count 16
	subvolumes locks
end-volume

volume server-tcp
	type protocol/server
	subvolumes iothreads
	option transport-type tcp
        option auth.login.iothreads.allow {{ username }}
        option auth.login.{{ username }}.password {{ password }}
	option transport.socket.listen-port 6996
	option transport.socket.nodelay on
end-volume
